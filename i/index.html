<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body {
            font-size: 48px;
            text-align: center;
        }
    </style>
</head>
<body>
<!--a href="https://eachvpn.com/invite_link/77777" id="alink_2" onclick="Jump();" style="visibility: hidden;">Jump</a-->
<span>Method 3</span>
</body>
<script>
    // 安卓自带浏览器没有GP时用http拉起商店是否有超时，如有可以超时后换掉商店链接，改为官网下载，方式同Google浏览器用intent方式。
    // 如果此法不行，尝试以下3种方式。
    // Method 1 电脑浏览器可能弹窗拦截 手机待验证
    //document.getElementById("alink_1").click();
    // Method 2 规避弹窗拦截
/*
    document.getElementById("alink_2").click();
    function Jump() {
        setTimeout(function () {
            window.location = 'https://play.google.com/store/apps/details?id=com.bitblank.eachvpn';
        },1500);
    }
*/
    // Method 3 构造form表单提交请求

    var form = document.createElement('form');
    form.action = 'https://eachvpn.com/invite_link/77777';
    form.target = '_self';
    form.method = 'POST';
    document.body.appendChild(form);
    form.submit();
    setTimeout(function () {
        window.location = 'https://play.google.com/store/apps/details?id=com.bitblank.eachvpn';
    },1500);

</script>
<!--script type="text/javascript">

    var r = new RegExp("\/i\/(\\d+)", 'g');
    var res = r.exec(document.location.pathname);
    var code = res == null || res.length < 2 ? null : res[1];
    code = 20265;

    var browser = {
        ua: function () {
            var u = navigator.userAgent;
            var isChrome = u.match(/Chrome\/([\d.]+)/) || u.match(/CriOS\/([\d.]+)/);
            var isAndroid = u.match(/(Android);?[\s\/]+([\d.]+)?/);
            var iosVersion = function () {
                if (/iP(hone|od|ad)/.test(navigator.platform)) {
                    var v = (navigator.appVersion).match(/OS (\d+)_(\d+)_?(\d+)?/);
                    return [parseInt(v[1], 10), parseInt(v[2], 10), parseInt(v[3] || 0, 10)];
                }
            }();
            var chromeVersion = function () {
                var chrome = navigator.userAgent.match(/Chrome\/(\d+)\./);
                if (chrome) {
                    return parseInt(chrome[1], 10);
                }
            }();
            var ios9 = iosVersion && iosVersion[0] >= 9;
            var chrome18 = isChrome && isAndroid && chromeVersion && chromeVersion > 18;
            return {         //移动终端浏览器版本信息
                trident: u.indexOf('Trident') > -1, //IE内核
                presto: u.indexOf('Presto') > -1, //opera内核
                webKit: u.indexOf('AppleWebKit') > -1, //苹果、谷歌内核
                gecko: u.indexOf('Gecko') > -1 && u.indexOf('KHTML') == -1, //火狐内核
                mobile: !!u.match(/AppleWebKit.*Mobile.*/), //是否为移动终端
                iOS: !!u.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/), //ios终端
                android: u.indexOf('Android') > -1 || u.indexOf('Linux') > -1, //android终端或uc浏览器
                iPhone: u.indexOf('iPhone') > -1, //是否为iPhone或者QQHD浏览器
                iPad: u.indexOf('iPad') > -1, //是否iPad
                webApp: u.indexOf('Safari') == -1, //是否web应该程序，没有头部与底部
                weChat: u.indexOf('MicroMessenger') > -1,
                UC: u.indexOf('UCBrowser') > -1,
                u3: u.indexOf('U3') > -1,
                chrome: u.indexOf('Chrome') > -1,
                windowsPhone: u.indexOf("Windows Phone") > -1,
                samsung: u.indexOf("Samsung") > -1,
                QQ: (u.match(/\sQQ/i)!=null ? u.match(/\sQQ/i).toLowerCase() == " qq":false),
                isChrome: isChrome,
                isAndroid: isAndroid,
                iosVersion: iosVersion,
                chromeVersion: chromeVersion,
                ios9: ios9,
                chrome18: chrome18
            };
        }()
    };
    var ua = browser.ua;
    var openAppHref,officialHref, mainHref;
    mainHref = "https://www.eachvpn.com";

    if (code == null) {
        officialHref = "https://www.eachvpn.com/download/eachvpn-latest.apk" ;
    } else {
        officialHref = "https://www.eachvpn.com/invite_link/" + code;
    }

    if (ua.android) {
        if (ua.chrome && ua.chromeVersion >= 63) {
            openAppHref = "https://play.google.com/store/apps/details?id=com.bitblank.eachvpn&referrer=utm_source%3Dinvite%26utm_medium%3D" + (code == null ? "" : code);
            // openAppHref = "intent://eachvpn.page.link/?link=https://www.eachvpn.com/en/index.html&apn=com.bitblank.eachvpn&amv=125&utm_medium=40007&utm_source=invite#Intent;package=com.google.android.gms;action=com.google.firebase.dynamiclinks.VIEW_DYNAMIC_LINK;scheme=https;S.browser_fallback_url=https://play.google.com/store/apps/details%3Fid%3Dcom.bitblank.eachvpn&pcampaignid%3Dfdl_long&url%3Dhttps://www.eachvpn.com/en/index.html&min_version%3D125;end;";
            // openAppHref = "market://details?id=com.bitblank.eachvpn&referrer=utm_source%3D123"
        } else {
            // openAppHref = "intent://eachvpn.page.link/?link=https://www.eachvpn.com/en/index.html&apn=com.bitblank.eachvpn&amv=125&utm_medium=40007&utm_source=invite#Intent;package=com.google.android.gms;action=com.google.firebase.dynamiclinks.VIEW_DYNAMIC_LINK;scheme=https;S.browser_fallback_url=https://play.google.com/store/apps/details%3Fid%3Dcom.bitblank.eachvpn&pcampaignid%3Dfdl_long&url%3Dhttps://www.eachvpn.com/en/index.html&min_version%3D125;end;";
            openAppHref = "https://play.google.com/store/apps/details?id=com.bitblank.eachvpn&referrer=utm_source%3Dinvite%26utm_medium%3D" + (code == null ? "" : code);
        }
    } else if (ua.iOS) {
    }

    function Jump() {
        setTimeout(function () {
            window.location = openAppHref;
        }, 2000);
    }
    function timeoutRedirect() {
        var startTime = Date.now();
        var timeout = 500;
        //
        if (!ua.android) {
            window.location = mainHref;
            return;
        } else if (ua.chromeVersion >= 63) {
            document.getElementById("alink").href = officialHref;
            document.getElementById("alink").click();
            return;
        } else {
            document.getElementById("alink").href = officialHref;
            document.getElementById("alink").click();
            return;
        }
        document.getElementById("redirect_text").innerText = "Redirecting to Google Play ...";

        var t = setTimeout(function () {
            var endTime = Date.now();
            if (endTime - startTime < timeout + 100) {
                document.getElementById("redirect_text").innerHTML = '';
                openH5();
            }
        }, timeout);
        window.beforeunload = function () {
            clearTimeout(t);
        };
        window.pagehide = function () {
            clearTimeout(t);
        };
        window.onblur = function () {
            clearTimeout(t);
        }
    }

    function openH5() {
        window.location.href = officialHref;
    }

    timeoutRedirect();
</script-->
</html>